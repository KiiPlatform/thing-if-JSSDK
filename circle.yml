dependencies:
  post:
    # install typings of dependencies
    - typings install es6-promise
    - typings install npm:popsicle
    - typings install dt~node --global 

test:
  pre:
    # generate typedoc
    - typedoc -out $CIRCLE_ARTIFACTS/typedoc/ --externalPattern 'src/ops/*.ts' --excludeExternals

    # uglify library
    - gulp --u
    - cp ./dist/* $CIRCLE_ARTIFACTS/

   # build sdk
    - gulp
    - cp ./dist/* $CIRCLE_ARTIFACTS/

    # install typings for tests
    - typings install env~mocha --global
    - typings install dt~chai --global
